#include <stdio.h>
#include <string.h>
#include "UI.h"
#include "card_operator.h"
#include "poker_total_card.h"
int str2num(const char *num){
    int ans=0,i=0;
    while ((*(num+i))!='\0'){
        ans=10*ans+*(num+i)-48;
        i++;
    }
    return ans;
}

int main(int argc,char*argv[]) {
    welcome();
    char *filename="onecard.log";
    int n=4,c=5,d=2,r=1;/*default numbers*/
    int a_bool =0;/*0 for demo, 1 for play*/   //temporarily set a_bool be 0;
    int i=1;
    for (i=1;i<argc;i++){
        if (!strcmp(argv[i],"-h") || !strcmp(argv[i],"--help")){help();return 0;}
        if (!strcmp(argv[i],"-n")){n=str2num(argv[i+1]);}
        else if (!strcmp(argv[i],"--player-number="))
        {n=str2num(argv[i]+16);}

        else if (!strcmp(argv[i],"-c"))
        {c=str2num(argv[i+1]);}
        else if (!strcmp(argv[i],"--initial-cards="))
        {c=str2num(argv[i]+16);}

        else if (!strcmp(argv[i],"-d"))
        {d=str2num(argv[i+1]);}
        else if (!strcmp(argv[i],"--decks="))
        {d=str2num(argv[i]+8);}

        else if (!strcmp(argv[i],"-r"))
        {r=str2num(argv[i+1]);}
        else if (!strcmp(argv[i],"--rounds="))
        {r=str2num(argv[i]+9);}

        else if (!strcmp(argv[i],"--log"))
        {filename=argv[i]+6;}

        else if (!strcmp(argv[i],"--auto"))
        {a_bool=1;}
        else if (!strcmp(argv[i],"-a"))
        {a_bool=1;}
    }
    printf(" r=%d\n d=%d\n n=%d\n c=%d\n %s",r,d,n,c,filename);

    return 0;
}